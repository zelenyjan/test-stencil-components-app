import{r as v,c as g,h as o,H as d,g as b}from"./index-865d434c.js";import{v as n}from"./props-789f7529-a031cd01.js";import{T as h,a,b as m,c as p}from"./constants-24dad929-d7753fd2.js";import{g as f,a as i}from"./template-10332292-dbb3a177.js";import{c as u,v as y}from"./wcag-3792d4bb-39d8b903.js";import{c as _}from"./win-9c8460bb-918db7b8.js";import{d as x,t as w}from"./utils-c057a3fa-060e2c21.js";import{c as I}from"./string.utils-f268fc6b-a0e9075c.js";import"./variants-2b936d58-0853e1f0.js";import"./gov.log-af905420-9e1fc599.js";const k=".gov-tabs__list{margin:0;padding:0}.gov-tabs__list>.gov-tabs__item{margin:0;padding:0;background:none}.gov-tabs__list>.gov-tabs__item::before{display:none}.gov-spin-animation,.gov-pseudo-spin-animation::before{animation:spin 4s linear infinite}@keyframes spin{100%{transform:rotate(360deg)}}@keyframes countdown{to{transform:scaleX(0)}}@keyframes progress{0%{background-position:-200px 0}100%{background-position:calc(200px + 100%) 0}}@keyframes pulse{0%{opacity:1}50%{opacity:0.4}100%{opacity:1}}.gov-tabs{position:relative;display:block;width:100%}.gov-tabs__list{display:flex;flex-wrap:wrap;margin:0rem 0rem 1.25rem}.gov-tabs__list>.gov-tabs__item{display:flex;margin:0}.gov-tabs__btn{font-weight:var(--gov-text-s-font-weight);font-size:var(--gov-text-s-font-size);line-height:var(--gov-text-s-line-height);letter-spacing:var(--gov-text-s-letter-spacing);display:inline-flex;vertical-align:middle;justify-content:center;align-items:center;border:0;background-color:transparent;text-align:center;text-decoration:none;cursor:pointer;-webkit-appearance:none;-moz-appearance:none;appearance:none;margin:0;padding:0.75rem 0rem 0.625rem;border-bottom:0.125rem solid transparent;font-weight:700;text-align:center;text-transform:uppercase;transition:150ms linear color, 150ms linear border-color}.gov-tabs__btn:focus{outline:none}.gov-tabs__btn:focus{outline:none}.gov-tabs__btn:focus-visible{border-radius:var(--gov-border-radius, 0.1875rem);outline:var(--gov-outline-width, 0.125rem) solid var(--gov-color-focus-base);outline-offset:0}.gov-tabs[type=text] .gov-tabs__list{gap:0.5rem 2rem;border-bottom:var(--gov-tabs-list-border-width, 0.0625rem solid var(--gov-color-secondary-500))}.gov-tabs[type=badge] .gov-tabs__list{gap:0.5rem 1rem}.gov-tabs[variant=primary][type=text] .gov-tabs__btn{color:var(--gov-tabs-primary-color, var(--gov-color-primary))}@media not all and (pointer: coarse){.gov-tabs[variant=primary][type=text] .gov-tabs__btn:hover{color:var(--gov-tabs-primary-color-hover, var(--gov-color-primary-800))}}.gov-tabs[variant=primary][type=text] .gov-tabs__btn[aria-selected=true]{border-bottom-color:cmake-var(tabs-primary-color-active, var(--gov-color-primary-800));color:cmake-var(tabs-primary-color-active, var(--gov-color-primary-800))}.gov-tabs[variant=secondary][type=text] .gov-tabs__btn{color:var(--gov-tabs-secondary-color, var(--gov-color-secondary-700))}@media not all and (pointer: coarse){.gov-tabs[variant=secondary][type=text] .gov-tabs__btn:hover{color:var(--gov-tabs-secondary-color-hover, var(--gov-color-secondary-900))}}.gov-tabs[variant=secondary][type=text] .gov-tabs__btn[aria-selected=true]{border-bottom-color:cmake-var(tabs-secondary-color-active, var(--gov-color-secondary-900));color:cmake-var(tabs-secondary-color-active, var(--gov-color-secondary-900))}.gov-tabs[variant=success][type=text] .gov-tabs__btn{color:var(--gov-tabs-success-color, var(--gov-color-success-500))}@media not all and (pointer: coarse){.gov-tabs[variant=success][type=text] .gov-tabs__btn:hover{color:var(--gov-tabs-success-color-hover, var(--gov-color-success-700))}}.gov-tabs[variant=success][type=text] .gov-tabs__btn[aria-selected=true]{border-bottom-color:cmake-var(tabs-success-color-active, var(--gov-color-success-700));color:cmake-var(tabs-success-color-active, var(--gov-color-success-700))}.gov-tabs[variant=warning][type=text] .gov-tabs__btn{color:var(--gov-tabs-warning-color, var(--gov-color-warning-500))}@media not all and (pointer: coarse){.gov-tabs[variant=warning][type=text] .gov-tabs__btn:hover{color:var(--gov-tabs-warning-color-hover, var(--gov-color-warning-700))}}.gov-tabs[variant=warning][type=text] .gov-tabs__btn[aria-selected=true]{border-bottom-color:cmake-var(tabs-warning-color-active, var(--gov-color-warning-700));color:cmake-var(tabs-warning-color-active, var(--gov-color-warning-700))}.gov-tabs[variant=error][type=text] .gov-tabs__btn{color:var(--gov-tabs-error-color, var(--gov-color-error-400))}@media not all and (pointer: coarse){.gov-tabs[variant=error][type=text] .gov-tabs__btn:hover{color:var(--gov-tabs-error-color-hover, var(--gov-color-error-600))}}.gov-tabs[variant=error][type=text] .gov-tabs__btn[aria-selected=true]{border-bottom-color:cmake-var(tabs-error-color-active, var(--gov-color-error-600));color:cmake-var(tabs-error-color-active, var(--gov-color-error-600))}.gov-tabs[orientation=vertical] .gov-tabs__btn{text-align:left}@media (min-width: 75em){.gov-tabs[orientation=vertical]{display:flex;flex-direction:row}.gov-tabs[orientation=vertical] .gov-tabs__list{flex-wrap:nowrap;flex-direction:column;width:-moz-max-content;width:max-content;max-width:30vw;margin-right:1.25rem;padding:0rem 0.5rem;border-bottom:none;border-right:var(--gov-tabs-list-border-width, 0.0625rem solid var(--gov-color-secondary-500))}.gov-tabs[orientation=vertical] .gov-tabs__item{justify-content:flex-end}.gov-tabs[orientation=vertical] .gov-tabs__btn{padding:0.5rem 0.75rem;text-align:right}}",C=class{constructor(t){v(this,t),this.govChange=g(this,"gov-change",7),this.triggerRefs={},this.controller=[],this.focusIndex=0,this.compactControls=!1,this.type="text",this.variant="primary",this.orientation="horizontal",this.wcagLabel=void 0,this.wcagSelectLabel=void 0,this.wcagLabelledBy=void 0,this.h=f(this.host),this.formSelectId=I("GovForSelect")}validateType(t){n(m,t,a.root)}validateVariant(t){n(p,t,a.root)}componentWillLoad(){this.prepareDataSource()}async componentDidRender(){_()&&(await x(500),await this.validateWcag()),this.resizeObserver()}prepareDataSource(){this.controller=[];const t=[];this.host.querySelectorAll(h.root).forEach(e=>{const r=Promise.all([e.getIdentifier(),e.getTriggerIdentifier()]).then(([s,c])=>{const l=typeof e.getAttribute("default")=="string";return{label:e.getAttribute("label"),contentIdentifier:s,triggerIdentifier:c,element:e,active:!1,default:l}});t.push(r)}),Promise.all(t).then(e=>{let r=e.findIndex(s=>s.default);r===-1&&(r=0),this.focusIndex=r,e[r].active=!0,this.controller=[...e],this.reRender()})}setActiveByIdentifier(t){const e=[];this.controller.map(r=>{r.active=t===r.triggerIdentifier||t===r.contentIdentifier,e.push(r)}),this.controller=[...e]}reRender(){this.controller.map(t=>{t.element.setActiveStatus(t.active)})}resizeObserver(){new ResizeObserver(w(()=>{},200)).observe(this.tabsRef)}render(){return o(d,{class:this.h.classes(a.root),variant:this.variant,type:this.type,role:"tablist",ref:t=>this.tabsRef=t,"aria-label":this.wcagLabel,"aria-labelledby":this.wcagLabelledBy,onKeyDown:this.onKeydownHandler.bind(this)},o("div",{class:a.tabs,"aria-hidden":i(this.compactControls)},o("ul",{class:a.list},this.controller.map((t,e)=>o("li",{class:a.item},this.type=="text"?o("button",{class:a.btn,id:t.triggerIdentifier,role:"tab",onClick:()=>this.onSelectHandler(t,e),"aria-selected":i(t.active),"aria-controls":t.contentIdentifier,tabindex:t.active?-1:0,ref:r=>this.triggerRefs[t.triggerIdentifier]=r},t.label):o("gov-badge",{variant:this.variant,type:i(t.active)=="true"?"solid":"outlined","on-gov-click":()=>this.onSelectHandler(t,e)},t.label))))),o("span",{id:this.formSelectId,hidden:!0},this.wcagSelectLabel),this.compactControls?o("gov-form-select",{"wcag-labelled-by":this.formSelectId,"onGov-change":this.onChangeHandler.bind(this)},this.controller.map(t=>o("option",{value:t.triggerIdentifier,selected:t.active},t.label))):null,o("slot",null))}getCurrentTab(){return this.controller.find(t=>t.active)||null}onSelectHandler(t,e){this.focusIndex=e,this.setActiveByIdentifier(t.triggerIdentifier),this.reRender(),this.govChange.emit(this.getCurrentTab().element)}onChangeHandler(t){const e=t.target.value;t.stopPropagation(),this.setActiveByIdentifier(e),this.reRender(),this.govChange.emit(this.getCurrentTab().element)}onKeydownHandler(t){const e=t.keyCode;if(t.stopPropagation(),e===39||e===37){if(!(this.focusIndex>=0&&this.focusIndex<=this.controller.length-1))return;if(this.controller[this.focusIndex].active=!1,e===39?(this.focusIndex++,this.focusIndex>=this.controller.length&&(this.focusIndex=0)):e===37&&(this.focusIndex--,this.focusIndex<0&&(this.focusIndex=this.controller.length-1)),this.focusIndex>=0&&this.focusIndex<=this.controller.length-1){const r=this.controller[this.focusIndex];r.active=!0,this.triggerRefs[r.triggerIdentifier].focus(),this.controller=[...this.controller],this.reRender(),this.govChange.emit(this.getCurrentTab().element)}}}async refresh(){this.prepareDataSource()}async currentTab(){return this.getCurrentTab().element||null}async setActiveTab(t){this.setActiveByIdentifier(t),this.reRender()}async validateWcag(){u(this.wcagSelectLabel,"wcag-select-label",a.root),y(this.wcagLabel,this.wcagLabelledBy,a.root)}get host(){return b(this)}static get watchers(){return{type:["validateType"],variant:["validateVariant"]}}};C.style=k;export{C as gov_tabs};
