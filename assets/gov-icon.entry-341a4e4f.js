import{a as l,b as r,H as d,g as f,e as v}from"./index-dd1e5e8a.js";import{i as u}from"./win-9c8460bb-918db7b8.js";import{g}from"./template-10332292-dbb3a177.js";import"./utils-c057a3fa-060e2c21.js";var a;(function(t){t.BASIC="basic",t.COMPLEX="complex",t.COLORED="colored"})(a||(a={}));const c={root:"gov-icon",holder:"gov-icon__holder"},p="0.0.15",h=()=>p,n={},o={},b=t=>t.startsWith("http://")||t.startsWith("https://"),w=(t,i,s)=>b(t)?`${t}/${s}/${i}.svg?v=${h()}`:v(`${t}/${s}/${i}.svg`)+`?v=${h()}`;async function y({name:t,type:i}){if(n[t])return n[t];o[t]||(o[t]=fetch(w(u(),t,i)).then(e=>{if(e.status===200)return e.text();throw new Error("Gov Icon doesn't exists")}));const s=await o[t];return n[t]=s,s}const m=".gov-spin-animation,.gov-pseudo-spin-animation::before{animation:spin 4s linear infinite}@keyframes spin{100%{transform:rotate(360deg)}}@keyframes countdown{to{transform:scaleX(0)}}@keyframes progress{0%{background-position:-200px 0}100%{background-position:calc(200px + 100%) 0}}@keyframes pulse{0%{opacity:1}50%{opacity:0.4}100%{opacity:1}}.gov-icon{display:inline-flex}.gov-icon__holder,.gov-icon svg{display:inline-flex;width:100%;height:100%}",I=class{constructor(t){l(this,t),this.name=null,this.type="basic",this.iconData=void 0,this.visible=!1,this.error=!1,this.h=g(this.host)}async loadIconPathData(){const{name:t,visible:i,type:s}=this;if(!(!t||!i))try{this.iconData=await y({name:t,type:s})}catch{this.error=!0}}connectedCallback(){this.waitUntilVisible(async()=>{this.visible=!0,await this.loadIconPathData()})}disconnectedCallback(){this.intersectionObserver&&(this.intersectionObserver.disconnect(),this.intersectionObserver=null)}async componentWillLoad(){await this.loadIconPathData()}waitUntilVisible(t){if(typeof window>"u"||!window.IntersectionObserver){t();return}this.intersectionObserver=new IntersectionObserver(i=>{i.forEach(s=>{s.isIntersecting&&(this.intersectionObserver.disconnect(),this.intersectionObserver=null,t())})},{rootMargin:"50px"}),this.intersectionObserver.observe(this.host)}render(){return this.error?null:r(d,{class:this.h.classes(c.root)},r("span",{class:c.holder,innerHTML:this.iconData}))}static get assetsDirs(){return["assets"]}get host(){return f(this)}static get watchers(){return{name:["loadIconPathData"]}}};I.style=m;export{I as gov_icon};
